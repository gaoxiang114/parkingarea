<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cyou.library.xh.borrow.dao">
	<resultMap type="ReturnBook" id="returnBookMap">
			<id property="check_id" column="check_id"/>
			<result property="check_flag" column="check_flag"></result>
			<result property="check_startTime" column="check_starttime"></result>
			<result property="check_endTime" column="check_endtime"></result>
			<result property="user_id" column="user_id"></result>
			<result property="user_num" column="user_num"></result>
			<result property="user_realName" column="user_realname"></result>
			<result property="book_id" column="book_id"></result>
			<result property="book_name" column="book_name"></result>
			<result property="book_author" column="book_author"></result>
			<result property="type_name" column="type_name"></result>
			<result property="type_id" column="type_id"></result>
	</resultMap>
	<select id="selectReturnBook" parameterType="String" resultMap="returnBookMap">
			select 	check_id, check_flag,
			check_starttime, 
			check_endtime, 
		
			t_borrow.user_id,
			user_num,
			user_realName,
		
			t_borrow.book_id, 
			book_name,
			book_author,
			type_name,
			t_book.type_id
			 
			from 
			t_borrow,t_user,t_book,t_booktype
			where t_borrow.book_id=#{bookId} and check_flag=2 and t_borrow.user_id=t_user.user_id and t_borrow.book_id=t_book.book_id  and t_book.type_id=t_booktype.type_id
	
	</select>
</mapper>