package com.cyou.library.xh.borrow.dao;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

import org.springframework.stereotype.Repository;

import com.cyou.library.xh.borrow.domain.BorrowRecord;
import com.cyou.library.xh.borrow.domain.BorrowRecordList;
import com.cyou.library.xh.borrow.domain.ReturnBook;
import com.cyou.library.xh.common.dao.BaseDao;
import com.cyou.library.xh.common.domain.DataBean;

@Repository("borrowRecordDao")
public class BorrowRecordDao extends BaseDao{
	public List<BorrowRecordList> selectBorrowRecord(int pageIndex, int pageSize,int state){
		Map<String,Object> map = new HashMap<String,Object>();
    	map.put("pageIndex", pageIndex*pageSize);
    	map.put("pageSize", pageSize);
    	map.put("state", state);
		return this.getList("selectBorrowRecord",map);
	}	
	public int addBorrowRecord(BorrowRecord borrowRecord){
		return this.add("addBorrowRecord",borrowRecord);
	}
	public BorrowRecordList selectRecordById(Integer checkId){
		return this.getUniqueOne("selectBorrowRecordById", checkId);
	}
	public int borrowRecordCount(){
		return (Integer) this.getSqlSession().selectOne("borrowRecordCount");
	}
	public int updateBorrowRecord(BorrowRecord borrowRecord){
		return this.update("updateBorrowRecord", borrowRecord);
	}
	public int deleteBorrowRecord(int checkId){
		return this.delete("deleteBorrowRecord", checkId);
	}
	public ReturnBook selectReturnBook(String bookId){
		return this.getUniqueOne("selectReturnBook", bookId);
	}
	
	public List<DataBean> countBorrowState(DataBean dataBean ){
		return this.getList("countBorrowState", dataBean);
	}
	
	public List<String> getBookNameByUserId(Integer userId){
		return this.getList("getBookNameByUserId",userId);
	}
	
}
