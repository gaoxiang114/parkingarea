<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cyou.library.xh.mail.dao.MailDao">

	<resultMap type="Mail" id="mailMap">
		<id property="mailId" column="mail_id"/>
		<result property="mailTitle" column="mail_title"/>
		<result property="mailContent" column="mail_content"/>
	</resultMap>
	
	<select id="getMailList" resultMap="mailMap">
		select mail_id,mail_title,mail_content from t_mail
	</select>
	
	<insert id="addMail">
		insert into t_mail(mail_title,mail_content,mail_time) values(#{mailTitle},#{mailContent},curdate())
	</insert>
	
	<update id="updateMail">
		update t_mail
			<set>
				<if test="mailTitle!='' and mailTitle!=null">mail_title=#{mailTitle},</if>
				<if test="mailContent!='' and mailContent!=null">mail_content=#{mailContent}</if>
			</set>
		where mail_id = #{mailId}
	</update>
	
	<select id="getMailById" resultMap="mailMap">
		select mail_id,mail_title,mail_content from t_mail where mail_id = #{mailId}
	</select>
	
</mapper>